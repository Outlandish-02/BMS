(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"673f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-md"},[s("q-layout",{attrs:{id:"q-app-2",view:"lHh Lpr lFf"}},[s("q-header",{staticClass:"glossy",class:t.drawerState?" bg-Mycolor":"bg-primary",staticStyle:{height:"150px","border-radius":"0 0 1rem 1rem"}},[s("q-toolbar",{staticClass:"justify-center"},[s("q-img",{staticClass:"shadow-7",staticStyle:{"margin-top":"0.5rem",height:"60px",width:"100%","border-radius":"0.5rem"},attrs:{basic:"",src:a("4b51")}}),s("div",{staticClass:"fixed-top-right"},[s("user-account")],1)],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-2 col-2"},[s("div",{staticClass:"col-md-2 col-2"},[s("q-img",{staticClass:"fixed-top-left",staticStyle:{height:"6.5rem",width:"7.3rem",margin:"1.3rem","border-radius":"0.5rem"},attrs:{basic:"",src:a("73b8")}},[t.home?s("div",{staticClass:"absolute-full text-subtitle2 flex flex-center"},[s("q-img",{staticStyle:{"margin-top":"-0.4rem"},attrs:{basic:"",src:a("fbf5")}})],1):t._e(),s("q-btn",{staticStyle:{height:"6.5rem",width:"7.3rem","border-radius":"0.5rem"},attrs:{to:"/Home"},on:{mouseover:function(e){t.home=!0},mouseleave:function(e){t.home=!1}}})],1)],1)]),s("div",{staticClass:"col-12",staticStyle:{"text-align":"center","margin-top":"1.7rem"}},[s("q-item-label",{staticStyle:{"font-size":"1.5rem",color:"white"},attrs:{overline:""}},[t._v("Todos los reportes")])],1)])],1),s("div",{staticClass:"bg-blue-10 glossy",staticStyle:{width:"100%",height:"0.5rem","border-radius":"0.5rem","margin-top":"-0.5rem"}}),s("div",{staticClass:"row no-wrap justify-end"},[s("div",{staticClass:"col-auto"},[s("q-btn",{staticStyle:{margin:"1rem"},attrs:{push:"",label:"Salir",color:"blue-10",icon:"logout",to:"/ReportsSection"}})],1)]),s("div",{staticClass:"bg-blue-10 glossy",staticStyle:{width:"100%",height:"0.5rem","border-radius":"0.5rem"}}),s("q-page-container",{staticStyle:{"margin-top":"-8.6rem"}},[s("all-reports-table"),s("br")],1)],1)],1)},r=[],i=a("dddf"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-table",{staticStyle:{width:"100%"},attrs:{title:"Lista de reportes",data:t.data,columns:t.columns,"row-key":"Fecha",loading:t.loading,pagination:t.initialPagination},scopedSlots:t._u([{key:"loading",fn:function(){return[1==t.loading?a("q-spinner-cube",{staticClass:"self-center",staticStyle:{margin:"1rem"},attrs:{indeterminate:"",showing:"",reverse:"",size:"70px",thickness:1,color:t.drawerState?"white":"primary","track-color":"light-blue"}}):t._e()]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"Reporte",on:{click:function(a){return t.SelectEquipo(e.row)}}},[a("div",{staticClass:"my-table-details"},[t._v("\n            "+t._s(e.row.Reporte)+"\n          ")])]),a("q-td",{key:"Fecha"},[a("div",{staticClass:"my-table-details"},[t._v("\n            "+t._s(e.row.Fecha)+"\n          ")])]),a("q-td",{key:"Dia"},[a("div",{staticClass:"my-table-details"},[t._v("\n            "+t._s(e.row.Dia)+"\n          ")])]),a("q-td",{key:"Status",attrs:{props:e}},[a("q-btn-toggle",{staticClass:"my-custom-toggle",attrs:{"no-caps":"",rounded:"",disable:!e.row.Status,unelevated:"",size:"sm","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Pendiente",value:!0},{label:"Verificado",value:!1}]},on:{click:function(a){return t.ChangeStatus(e.row.Status,e.row.ID_Reporte,e.row.ID_Equipo)}},model:{value:e.row.Status,callback:function(a){t.$set(e.row,"Status",a)},expression:"props.row.Status"}})],1)],1)]}}])})],1)},l=[],n=(a("e6cf"),a("5d36")),c={data(){return{initialPagination:{rowsPerPage:50},alert:!1,loading:!0,columns:[{Reporte:"Reporte",align:"left",label:"Reporte",field:"Reporte",sortable:!0},{Fecha:"Fecha",align:"left",label:"Fecha",field:"Fecha",sortable:!0},{Dia:"Dia",align:"left",label:"Dia - hora",field:"Dia",sortable:!0},{name:"Status",align:"left",label:"Estatus",field:"Status",sortable:!0}],data:[]}},created(){this._getAllReports()},methods:{async _getAllReports(){await this.$store.dispatch("cardState/getReportsAction"),this.$data.data=this.Reportes,this.data.forEach(((t,e)=>{t.index=e})),0==this.data.length?(this.loading=!1,this.$q.notify({color:"blue-13",textColor:"white",icon:"search_off",message:"Aun no hay reportes",timeout:800})):this.loading=!1},async ChangeStatus(t,e,a){if(1==this.Usuario.rol||2==this.Usuario.rol){var s={Status:t};try{await n["a"].updateReport(e,s);await this.$store.dispatch("cardState/postStatisticAction")}catch(r){}}},SelectEquipo(t){if(t.Status){var e=t,a={reporte:e,lastRoute:this.$router.currentRoute.path};this.Flags=a,this.IDEM=t.ID_Equipo,this.$router.push({path:"/MaintenanceCreate/"}),this.$q.notify({color:"orange",textColor:"white",icon:"notification_important",message:"Deber√≠as realizar un mantenimiento de tipo correctivo"})}}},computed:{IDEM:{get(){return this.$store.state.cardState.IDEM},set(t){this.$store.commit("cardState/updateIDEM",t)}},Usuario:{get(){return this.$store.state.global.Usuario},set(t){this.$store.commit("global/updateUsuario",t)}},Flags:{get(){return this.$store.state.global.Flags},set(t){this.$store.commit("global/updateFlags",t)}},drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}},Reportes:{get(){return this.$store.state.cardState.Reportes},set(t){this.$store.commit("updateReportes",t)}}}},u=c,d=(a("c815"),a("2877")),h=a("eaac"),p=a("a6a3"),m=a("bd08"),g=a("db86"),b=a("6a67"),w=a("eebe"),f=a.n(w),S=Object(d["a"])(u,o,l,!1,null,null,null),y=S.exports;f()(S,"components",{QTable:h["a"],QSpinnerCube:p["a"],QTr:m["a"],QTd:g["a"],QBtnToggle:b["a"]});var v={name:"EquipmentDetail",components:{UserAccount:i["a"],AllReportsTable:y},data(){return{leftDrawerOpen:!1,alert:!1,seleccionado:0,home:!1,basic:!1,fixed:!1,reporte:""}},methods:{MaintenanceCreate(){1!=this.Usuario.rol&&2!=this.Usuario.rol||this.$router.push({path:"/MaintenanceCreate/"}),3!=this.Usuario.rol||this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"No tienes los permisos para crear un Mantenimiento"})},obtenerSeleccionado(){1!=this.Usuario.rol&&2!=this.Usuario.rol||(this.fixed=!0,this.reporte=this.ReportSelected[0].Reporte,0===this.ReportSelected.length&&this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"Seleccione un mantenimiento de la lista!!"})),3!=this.Usuario.rol||this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"No tienes los permisos para ver un Mantenimiento"})}},computed:{ReportSelected:{get(){return this.$store.state.cardState.ReportSelected}},drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}},Usuario:{get(){return this.$store.state.global.Usuario},set(t){this.$store.commit("global/updateUsuario",t)}}}},$=v,q=(a("cb96"),a("4d5a")),C=a("e359"),R=a("65c6"),x=a("068f"),_=a("9c40"),k=a("0170"),D=a("09e3"),U=Object(d["a"])($,s,r,!1,null,null,null);e["default"]=U.exports;f()(U,"components",{QLayout:q["a"],QHeader:C["a"],QToolbar:R["a"],QImg:x["a"],QBtn:_["a"],QItemLabel:k["a"],QPageContainer:D["a"]})},c815:function(t,e,a){"use strict";var s=a("f82a"),r=a.n(s);r.a},cb96:function(t,e,a){"use strict";var s=a("e348"),r=a.n(s);r.a},e348:function(t,e,a){},f82a:function(t,e,a){}}]);