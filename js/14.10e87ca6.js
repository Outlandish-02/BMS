(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"096c":function(t,e,a){},5183:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-md"},[s("q-layout",{attrs:{id:"q-app-2",view:"lHh Lpr lFf"}},[s("q-header",{staticClass:"glossy",class:t.drawerState?" bg-black":"bg-primary",staticStyle:{height:"150px"},attrs:{elevated:""}},[s("q-toolbar",{staticClass:"justify-center"},[s("q-img",{staticStyle:{"margin-top":"0.5rem",height:"60px",width:"100%","border-radius":"0.5rem"},attrs:{basic:"",src:a("4b51")}}),s("div",{staticClass:"fixed-top-right"},[s("user-account")],1)],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-2 col-2"},[s("q-img",{staticClass:"fixed-top-left",staticStyle:{height:"6.5rem",width:"7.3rem",margin:"1.3rem","border-radius":"0.5rem"},attrs:{basic:"",src:a("73b8")}},[t.home?s("div",{staticClass:"absolute-full text-subtitle2 flex flex-center"},[s("q-img",{staticStyle:{"margin-top":"-0.4rem"},attrs:{basic:"",src:a("fbf5")}})],1):t._e(),s("q-btn",{staticStyle:{height:"6.5rem",width:"7.3rem","border-radius":"0.5rem"},attrs:{to:"/Home"},on:{mouseover:function(e){t.home=!0},mouseleave:function(e){t.home=!1}}})],1)],1),s("div",{staticClass:"col-12",staticStyle:{"text-align":"center","margin-top":"1.7rem"}},[s("q-item-label",{staticStyle:{"font-size":"1.5rem",color:"white"},attrs:{overline:""}},[t._v("Información del Usuario")])],1)])],1),s("q-page-container",{staticStyle:{"margin-top":"-8rem"}},[s("user-detail"),s("br")],1)],1)],1)},o=[],r=a("dddf"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"bg-blue-10 glossy",staticStyle:{width:"100%",height:"0.5rem","border-radius":"0.5rem","margin-top":"-2rem"}}),a("div",{staticClass:"row no-wrap justify-end"},[a("div",{staticClass:"col-auto"},[1==t.Usuario.rol||2==t.Usuario.rol?a("q-btn",{staticClass:"btnActualizarStyle",attrs:{label:"Actualizar",color:"primary",push:"",icon:"edit"},on:{click:function(e){return t.ActualizarUsuario()}}}):t._e()],1),a("div",{staticClass:"col-auto"},[a("q-btn",{staticClass:"btnSalirStyle",attrs:{push:"",icon:"logout",label:"Salir",color:"primary",to:"/UserCards"}})],1)]),a("div",{staticClass:"bg-blue-10 glossy",staticStyle:{width:"100%",height:"0.5rem","border-radius":"0.5rem"}}),a("div",{staticClass:"col-12",staticStyle:{"margin-top":"1rem"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"}),a("div",{staticClass:"shadow-16 col-8",class:t.drawerState?"bg-grey-10":"bg-grey-4",staticStyle:{"border-radius":"0.5rem"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6",class:t.drawerState?"bg-grey-9":"bg-blue-13",staticStyle:{"border-radius":"0.6rem"}},[a("div",{staticClass:"column items-center"},[a("h5",{staticStyle:{color:"white"}},[t._v("Información básica")]),a("div",{staticClass:"DivImgStyle row justify-center items-center content-center"},[a("img",{staticClass:"imageStyle",attrs:{id:"Imagen",src:t.ImageBase64}})]),a("div",{staticClass:"row my-custom-toggle",staticStyle:{"margin-top":"1.3rem","border-radius":"0.3rem",width:"90%"}},[1==t.Usuario.rol||2==t.Usuario.rol?a("q-file",{staticClass:"col-9 FileStyle",attrs:{label:"Elegir Fotografia","use-chips":""},nativeOn:{change:function(e){return t.subirFoto(e)}},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}}):t._e()],1),a("q-input",{staticClass:"inputStyle",staticStyle:{"text-color":"white"},attrs:{dark:"",color:"teal",type:"text",filled:"",readonly:"",label:"Nombre"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textNombre,callback:function(e){t.textNombre=e},expression:"textNombre"}})],1)]),a("div",{staticClass:"col-6",staticStyle:{"margin-left":"-1rem"}},[a("div",{staticClass:"column items-center"},[a("q-input",{staticClass:"inputStyle",attrs:{standout:"",filled:"",label:"Correo Electrónico",type:"email",prefix:"Email:",readonly:1!==t.$store.state.global.Usuario.rol&&2!==t.$store.state.global.Usuario.rol},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"mail"}})]},proxy:!0}]),model:{value:t.textCorreo,callback:function(e){t.textCorreo=e},expression:"textCorreo"}}),a("q-input",{staticClass:"inputStyle",attrs:{color:"teal",type:"number",filled:"",standout:"",label:"Telefono",readonly:1!==t.$store.state.global.Usuario.rol&&2!==t.$store.state.global.Usuario.rol},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textTelefono,callback:function(e){t.textTelefono=e},expression:"textTelefono"}}),a("q-input",{staticClass:"inputStyle",attrs:{color:"teal",readonly:"",type:"text",filled:"",label:"Curp"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textCurp,callback:function(e){t.textCurp=e},expression:"textCurp"}}),a("q-input",{staticClass:"inputStyle",attrs:{color:"teal",type:"password",readonly:1!==t.$store.state.global.Usuario.rol&&2!==t.$store.state.global.Usuario.rol,filled:"",standout:"",label:"Contraseña"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textContraseña,callback:function(e){t.textContraseña=e},expression:"textContraseña"}}),a("q-select",{staticClass:"inputStyle",attrs:{filled:"",standout:"",options:t.options,label:"Tipo De Usuario",readonly:1!==t.$store.state.global.Usuario.rol},model:{value:t.TipoUsuario,callback:function(e){t.TipoUsuario=e},expression:"TipoUsuario"}}),a("q-btn-toggle",{staticClass:"justify-center btnToggleStyle",attrs:{unelevated:"","toggle-color":t.modelServicio?"primary":"dark",color:"white","text-color":"dark",options:[{label:"Cuenta Activada",value:!0},{label:"Cuenta Desactivada",value:!1}],readonly:1!==t.$store.state.global.Usuario.rol},model:{value:t.modelServicio,callback:function(e){t.modelServicio=e},expression:"modelServicio"}})],1)])])]),a("div",{staticClass:"col-2"})])]),a("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("¡"+t._s(t.aviso)+"!")])]),a("q-card-section",{staticClass:"q-pt-none"},[t._v("¡"+t._s(t.aviso2)+"!")]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",to:"/UserCards",color:"primary"}})],1)],1)],1)],1)},l=[],c=(a("e6cf"),a("5d36")),n=a("a6a3"),d={data(){return{textRol:this.$store.state.cardState.UserSelected[0].Rol,textNombre:this.$store.state.cardState.UserSelected[0].Nombre,textTelefono:this.$store.state.cardState.UserSelected[0].Telefono,textCorreo:this.$store.state.cardState.UserSelected[0].Correo,textCurp:this.$store.state.cardState.UserSelected[0].CURP,"textContraseña":this.$store.state.cardState.UserSelected[0].Password,TipoUsuario:this.$store.state.cardState.UserSelected[0].Rol,ImageBase64:this.$store.state.cardState.UserSelected[0].Foto,modelServicio:this.$store.state.cardState.UserSelected[0].Estatus,options:["Administrador","Auxiliar","Básico"],files:null,alert:!1,confirm:!1,aviso:"",aviso2:""}},created(){if(this.idUsuario=this.$store.state.cardState.UserSelected[0].ID_Usuario,null!=this.TipoUsuario)switch(this.TipoUsuario){case 1:this.TipoUsuario="Administrador";break;case 2:this.TipoUsuario="Auxiliar";break;case 3:this.TipoUsuario="Básico";break}},methods:{async ActualizarUsuario(){if(1==this.Usuario.rol||2==this.Usuario.rol||3==this.Usuario.rol){if(null!=this.TipoUsuario)switch(this.TipoUsuario){case"Administrador":this.textRol=1;break;case"Auxiliar":this.textRol=2;break;case"Básico":this.textRol=3;break;default:this.textRol=0}this.$q.loading.show({spinner:n["a"],spinnerColor:"indigo-10",spinnerSize:50,backgroundColor:"indigo-11",message:"Actualizando Usuario",messageColor:"indigo-10"}),this.compressImage();var t={Correo:this.$data.textCorreo,Password:this.$data.textContraseña,Telefono:this.textTelefono,Rol:this.$data.textRol,Estatus:this.$data.modelServicio,Foto:this.ImageBase64};if(""!=this.$data.textContraseña&&""!=this.$data.textCorreo&&""!=this.textTelefono){try{await c["a"].updateUser(this.idUsuario,t);this.$data.aviso="Guardado exitosamente",this.$data.aviso2="Se ha generado su registro correctamente",this.$q.loading.hide(),this.$store.dispatch("cardState/getUsersAction")}catch(e){this.$data.aviso="No guardado",this.$data.aviso2="Parece que no ha ingresado todos los campos necesarios",this.$q.loading.hide()}this.$data.alert=!0}else this.$q.loading.hide(),this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"La contraseña, el correo y el telefono no pueden estar vacios"})}else this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"No tienes los permisos para actualizar usuarios"})},compressImage(){const t=document.createElement("canvas"),e=document.getElementById("Imagen");let a=e.width,s=e.height;const o=200,r=200;a>s?a>r&&(s=Math.round(s*=r/a),a=r):s>o&&(a=Math.round(a*=o/s),s=o);var i=t.getContext("2d");t.width=a,t.height=s,i.drawImage(e,0,0,a,s),this.$data.ImageBase64=t.toDataURL("image/jpeg",.92)},subirFoto(){let t=this.$data.files,e=new FileReader;e.onloadend=t=>{this.ImageBase64=e.result},e.readAsDataURL(t)}},computed:{Usuario:{get(){return this.$store.state.global.Usuario},set(t){this.$store.commit("global/updateUsuario",t)}},drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}}}},u=d,m=(a("aa0c"),a("2877")),p=a("9c40"),h=a("7d53"),g=a("27f9"),b=a("0016"),f=a("ddd8"),S=a("6a67"),v=a("24e8"),y=a("f09f"),C=a("a370"),x=a("4b7e"),w=a("7f67"),U=a("eebe"),$=a.n(U),q=Object(m["a"])(u,i,l,!1,null,"a4142f70",null),k=q.exports;$()(q,"components",{QBtn:p["a"],QFile:h["a"],QInput:g["a"],QIcon:b["a"],QSelect:f["a"],QBtnToggle:S["a"],QDialog:v["a"],QCard:y["a"],QCardSection:C["a"],QCardActions:x["a"]}),$()(q,"directives",{ClosePopup:w["a"]});var T={name:"EquipmentDetail",components:{UserAccount:r["a"],UserDetail:k},data(){return{leftDrawerOpen:!1,Numero:9,home:!1}},computed:{drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}}}},_=T,I=(a("6f08"),a("4d5a")),Q=a("e359"),A=a("65c6"),R=a("068f"),B=a("0170"),D=a("09e3"),E=Object(m["a"])(_,s,o,!1,null,null,null);e["default"]=E.exports;$()(E,"components",{QLayout:I["a"],QHeader:Q["a"],QToolbar:A["a"],QImg:R["a"],QBtn:p["a"],QItemLabel:B["a"],QPageContainer:D["a"]})},"6f08":function(t,e,a){"use strict";var s=a("096c"),o=a.n(s);o.a},7252:function(t,e,a){},aa0c:function(t,e,a){"use strict";var s=a("7252"),o=a.n(s);o.a}}]);