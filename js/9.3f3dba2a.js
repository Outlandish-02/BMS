(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"7e07":function(t,e,a){"use strict";var o=a("e94a"),s=a.n(o);s.a},"8a7c":function(t,e,a){"use strict";var o=a("ca20"),s=a.n(o);s.a},a828:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"q-pa-md"},[o("q-layout",{attrs:{id:"q-app-2",view:"lHh Lpr lFf"}},[o("q-header",{staticClass:"glossy",class:t.drawerState?" bg-black":"bg-primary",staticStyle:{height:"150px"},attrs:{elevated:""}},[o("q-toolbar",{staticClass:"justify-center"},[o("q-img",{staticStyle:{"margin-top":"0.5rem",height:"60px",width:"100%","border-radius":"5px"},attrs:{basic:"",src:a("4b51")}}),o("div",{staticClass:"fixed-top-right"},[o("user-account")],1)],1),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-2 col-2"},[o("q-img",{staticClass:"fixed-top-left",staticStyle:{height:"6.5rem",width:"7.3rem",margin:"1.3rem","border-radius":"0.5rem"},attrs:{basic:"",src:a("73b8")}})],1),o("div",{staticClass:"col-12",staticStyle:{"text-align":"center","margin-top":"1.7rem"}},[o("q-item-label",{staticStyle:{"font-size":"1.5rem",color:"white"},attrs:{overline:""}},[t._v("Formulario de Equipo")])],1)])],1),o("q-page-container",{staticStyle:{"margin-top":"-9rem"}},[o("equipment-input"),o("br")],1)],1)],1)},s=[],i=a("dddf"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"bg-blue-10 glossy",staticStyle:{width:"100%",height:"0.5rem","border-radius":"0.5rem","margin-top":"-1.3rem"}}),a("div",{staticClass:"row no-wrap justify-end"},[a("div",{staticClass:"col-auto"},[a("q-btn",{staticClass:"btnGuardarStyle",attrs:{label:"Guardar",push:"",icon:"file_upload",color:"blue-10"},on:{click:t._insertEquipment}})],1),a("div",{staticClass:"col-auto"},[a("q-btn",{staticClass:"btnSalirStyle",attrs:{push:"",label:"Salir",color:"blue-10",icon:"logout"},on:{click:function(e){t.confirm=!0}}})],1)]),a("div",{staticClass:"bg-blue-10 glossy",staticStyle:{width:"100%",height:"0.5rem","border-radius":"0.5rem"}}),a("div",{staticClass:"row",staticStyle:{"margin-top":"1rem"}},[a("div",{staticClass:"col-9 divP"},[a("div",{staticClass:"row q-col-gutter-x-xs q-col-gutter-y-lg"},[a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticClass:"qInputxt",attrs:{color:"teal",type:"text",filled:"",label:"Numero de Serie"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textNumero,callback:function(e){t.textNumero=e},expression:"textNumero"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticClass:"qInputxt",attrs:{color:"teal",type:"text",filled:"",label:"Numero de Control"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textNumeroControl,callback:function(e){t.textNumeroControl=e},expression:"textNumeroControl"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticClass:"qInputxt",attrs:{color:"teal",type:"text",filled:"",label:"Equipo"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textEquipo,callback:function(e){t.textEquipo=e},expression:"textEquipo"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticClass:"qInputxt",attrs:{color:"teal",type:"text",filled:"",label:"Marca"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textMarca,callback:function(e){t.textMarca=e},expression:"textMarca"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticClass:"qInputxt",attrs:{color:"teal",type:"text",filled:"",label:"Modelo"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textModelo,callback:function(e){t.textModelo=e},expression:"textModelo"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticClass:"qInputxt",attrs:{color:"teal",type:"text",filled:"",label:"Ubicacion"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textUbicacion,callback:function(e){t.textUbicacion=e},expression:"textUbicacion"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticClass:"qInputxt",attrs:{color:"teal",type:"number",filled:"",label:"Año de Fabricación"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textAñoFabricacion,callback:function(e){t.textAñoFabricacion=e},expression:"textAñoFabricacion"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticClass:"qInputxt",attrs:{color:"teal",type:"text",filled:"",label:"Proveedor"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textProveedor,callback:function(e){t.textProveedor=e},expression:"textProveedor"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticClass:"qInputxt",attrs:{color:"teal",type:"text",filled:"",label:"Estatus"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textEstatus,callback:function(e){t.textEstatus=e},expression:"textEstatus"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticClass:"qInputxt",attrs:{color:"teal",type:"number",filled:"",label:"Costo"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"attach_money"}})]},proxy:!0}]),model:{value:t.texCosto,callback:function(e){t.texCosto=e},expression:"texCosto"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticClass:"qInputxt",attrs:{filled:"",readonly:"",label:"Fecha de garantia"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD"},model:{value:t.dateGarantia,callback:function(e){t.dateGarantia=e},expression:"dateGarantia"}})],1)],1)]},proxy:!0}]),model:{value:t.dateGarantia,callback:function(e){t.dateGarantia=e},expression:"dateGarantia"}})],1),a("div",{staticClass:"col-12 col-sm-6 col-lg-4 col-md-4"},[a("q-input",{staticClass:"qInputxt",attrs:{filled:"",readonly:"",label:"Fecha de Adquisición"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{mask:"YYYY-MM-DD"},model:{value:t.dateCompra,callback:function(e){t.dateCompra=e},expression:"dateCompra"}})],1)],1)]},proxy:!0}]),model:{value:t.dateCompra,callback:function(e){t.dateCompra=e},expression:"dateCompra"}})],1)])]),a("div",{staticClass:"col-3 justify-center divS",class:t.drawerState?"bg-grey-10":"bg-grey-4"},[a("q-toolbar",[a("img",{staticClass:"imageStyle",attrs:{id:"Imagen",src:t.ImageBase64}})]),a("div",{staticClass:"row my-custom-toggle btnToggleStyle",staticStyle:{"margin-top":"1.3rem","border-radius":"0.3rem",height:"60px"}},[a("q-file",{staticClass:"col-9 FileStyle",staticStyle:{height:"50px"},attrs:{label:"Elegir Fotografia","use-chips":""},nativeOn:{change:function(e){return t.subirFoto(e)}},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}})],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("¡"+t._s(t.aviso)+"!")])]),a("q-card-section",{staticClass:"q-pt-none"},[t._v(t._s(t.aviso2))]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary",to:"Guardado exitosamente"===t.aviso?"/Home":""}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"keyboard_return",color:"primary","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[t._v("¿Seguro que deseas salir?")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Salir",to:"/Home",color:"primary"}})],1)],1)],1)],1)]),a("div",{staticClass:"row",staticStyle:{"margin-top":"-1rem"}},[a("div",{staticStyle:{width:"100%"}},[a("h5",{staticClass:"glossy text-center ObservacionesStyle"},[t._v("Observaciones")]),a("div",{staticClass:"q-pa-md q-gutter-sm divEditor"},[a("q-editor",{attrs:{toolbar:[["bold","italic","strike","underline"]]},model:{value:t.editorvalue,callback:function(e){t.editorvalue=e},expression:"editorvalue"}})],1)])]),a("div",{staticClass:"bg-blue-10 glossy absolute-bottom",staticStyle:{width:"100%","margin-bottom":"1rem",height:"0.5rem","border-radius":"0.5rem"}})])},l=[],c=(a("e6cf"),a("a6a3")),n={data(){return{textNumero:"",textEstatus:"",textNumeroControl:"",textProveedor:"",textEquipo:"",textModelo:"",textMarca:"",textUbicacion:"","textAñoFabricacion":"",texCosto:"",editorvalue:"",modelServicio:!0,modelGarantia:!0,dateGarantia:"",dateCompra:"",files:null,alert:!1,confirm:!1,aviso:"Registro Guardado",aviso2:"Su registro se ha generado exitosamente",ImageBase64:"404.jpg",canPost:!1}},methods:{compressImage(){const t=document.createElement("canvas"),e=document.getElementById("Imagen");let a=e.width,o=e.height;const s=200,i=200;a>o?a>i&&(o=Math.round(o*=i/a),a=i):o>s&&(a=Math.round(a*=s/o),o=s);var r=t.getContext("2d");t.width=a,t.height=o,r.drawImage(e,0,0,a,o),this.$data.ImageBase64=t.toDataURL("image/jpeg",.92)},subirFoto(){let t=this.$data.files,e=new FileReader;e.onloadend=t=>{this.ImageBase64=e.result},e.readAsDataURL(t)},async _insertEquipment(){this.$q.loading.show({spinner:c["a"],spinnerColor:"indigo-10",spinnerSize:50,backgroundColor:"indigo-11",message:"Subiendo Equipo",messageColor:"indigo-10"}),this.compressImage();for(var t=[{value:this.$data.textNumero,parameter:"Numero de serie"},{value:this.$data.textEquipo,parameter:"Nombre"},{value:this.$data.textModelo,parameter:"Modelo"},{value:this.$data.textMarca,parameter:"Marca"},{value:this.$data.textUbicacion,parameter:"Ubicacion"},{value:this.$data.textAñoFabricacion,parameter:"Año"},{value:this.$data.texCosto,parameter:"Costo"},{value:this.$data.dateCompra,parameter:"Fecha de compra"},{value:this.$data.dateGarantia,parameter:"Fecha de garantía"},{value:this.$data.editorvalue,parameter:"Observaciones"},{value:this.$data.textProveedor,parameter:"Proveedor"},{value:this.$data.textNumeroControl,parameter:"Numero de control"},{value:this.$data.textEstatus,parameter:"Estatus"}],e=0;e<t.length;e++){if(""==t[e].value)return this.$q.loading.hide(),this.$q.notify({color:"orange-14",textColor:"white",timeout:1e3,icon:"warning",message:"No ingresaste "+t[e].parameter+" del equipo"}),void(this.canPost=!1);this.canPost=!0}if(this.canPost){var a={No_Serie:this.$data.textNumero,Nombre_Equipo:this.$data.textEquipo,Modelo:this.$data.textModelo,Marca:this.$data.textMarca,Foto:this.ImageBase64,Ubicacion:this.$data.textUbicacion,Estado_Garantia:!0,Estado_Servicio:!0,Ano_Equipo:parseInt(this.$data.textAñoFabricacion),Precio:parseInt(this.$data.texCosto),Fecha_Adquisicion:this.$data.dateCompra,Fecha_Garantia:this.$data.dateGarantia,Observaciones:this.$data.editorvalue,Proveedor:this.$data.textProveedor,Numero_Control:this.$data.textNumeroControl,Status:this.$data.textEstatus};let t,e=(new Date).getMonth().toString().length;1==e&&(t="0"+((new Date).getMonth()+1).toString());let s={Mes:t,"Año":(new Date).getFullYear()};this.MaintenanceSectionSelected=s,this.ReportSectionSelected=s;try{await this.$store.dispatch("cardState/postEquipmentAction",a),this.$data.aviso="Guardado exitosamente",this.$data.aviso2="Se ha generado su registro correctamente",this.$data.alert=!0,this.$q.loading.hide()}catch(o){this.$data.aviso="No guardado",this.$data.aviso2="Hubo un error tratando de crear el equipo, vuelva a intentarlo de nuevo",this.$data.alert=!0,this.$q.loading.hide()}}}},destroyed(){this.$q.loading.hide()},computed:{drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}},MaintenanceSectionSelected:{get(){return this.$store.state.cardState.MaintenanceSectionSelected},set(t){this.$store.commit("cardState/updateMaintenanceSectionSelected",t)}},ReportSectionSelected:{get(){return this.$store.state.cardState.ReportSectionSelected},set(t){this.$store.commit("cardState/updateReportSectionSelected",t)}}}},d=n,u=(a("8a7c"),a("2877")),p=a("9c40"),m=a("27f9"),h=a("0016"),x=a("7cbe"),g=a("52ee"),v=a("65c6"),b=a("7d53"),q=a("24e8"),f=a("f09f"),C=a("a370"),y=a("4b7e"),S=a("cb32"),w=a("d66b"),$=a("7f67"),_=a("eebe"),k=a.n(_),E=Object(u["a"])(d,r,l,!1,null,"ecb9c80e",null),M=E.exports;k()(E,"components",{QBtn:p["a"],QInput:m["a"],QIcon:h["a"],QPopupProxy:x["a"],QDate:g["a"],QToolbar:v["a"],QFile:b["a"],QDialog:q["a"],QCard:f["a"],QCardSection:C["a"],QCardActions:y["a"],QAvatar:S["a"],QEditor:w["a"]}),k()(E,"directives",{ClosePopup:$["a"]});var I={name:"EquipmentCreate",components:{UserAccount:i["a"],EquipmentInput:M},data(){return{leftDrawerOpen:!1,Numero:9,home:!1}},computed:{drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}}}},N=I,F=(a("7e07"),a("4d5a")),P=a("e359"),Q=a("068f"),A=a("0170"),G=a("09e3"),D=Object(u["a"])(N,o,s,!1,null,null,null);e["default"]=D.exports;k()(D,"components",{QLayout:F["a"],QHeader:P["a"],QToolbar:v["a"],QImg:Q["a"],QItemLabel:A["a"],QPageContainer:G["a"]})},ca20:function(t,e,a){},e94a:function(t,e,a){}}]);