(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{2363:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-md"},[s("q-layout",{attrs:{id:"q-app-2",view:"lHh Lpr lFf"}},[s("q-header",{staticClass:"glossy",class:t.drawerState?" bg-black":"bg-primary",staticStyle:{height:"150px"},attrs:{elevated:""}},[s("q-toolbar",{staticClass:"justify-center"},[s("q-img",{staticStyle:{"margin-top":"0.5rem",height:"60px",width:"100%","border-radius":"0.5rem"},attrs:{basic:"",src:a("4b51")}}),s("div",{staticClass:"fixed-top-right"},[s("user-account")],1)],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-2 col-2"},[s("q-img",{staticClass:"fixed-top-left",staticStyle:{height:"6.5rem",width:"7.3rem",margin:"1.3rem","border-radius":"0.5rem"},attrs:{basic:"",src:a("73b8")}})],1),s("div",{staticClass:"col-12",staticStyle:{"text-align":"center","margin-top":"1.7rem"}},[s("q-item-label",{staticStyle:{"font-size":"1.5rem",color:"white"},attrs:{overline:""}},[t._v("Creación de Usuario")])],1)])],1),s("q-page-container",{staticStyle:{"margin-top":"-8rem"}},[s("user-input"),s("br")],1)],1)],1)},r=[],i=a("dddf"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"bg-blue-10 glossy",staticStyle:{width:"100%",height:"0.5rem","border-radius":"0.5rem","margin-top":"-2rem"}}),a("div",{staticClass:"row no-wrap justify-end"},[a("div",{staticClass:"col-auto"},[a("q-btn",{staticClass:"btnGuardarStyle",attrs:{label:"Guardar",color:"primary",push:"",icon:"save"},on:{click:t._insertUser}})],1),a("div",{staticClass:"col-auto"},[a("q-btn",{staticClass:"btnSalirStyle",attrs:{push:"",icon:"logout",label:"Salir",color:"primary"},on:{click:function(e){t.confirm=!0}}})],1)]),a("div",{staticClass:"bg-blue-10 glossy",staticStyle:{width:"100%",height:"0.5rem","border-radius":"0.5rem"}}),a("div",{staticClass:"col-12",staticStyle:{"margin-top":"1rem"}},[a("div",{staticClass:"row",staticStyle:{height:"100%"}},[a("div",{staticClass:"col-2"}),a("div",{staticClass:"shadow-16 col-8 absolute-center",class:t.drawerState?"bg-grey-10":"bg-grey-4",staticStyle:{"border-radius":"0.5rem","margin-top":"5rem"}},[a("div",{staticClass:"row",staticStyle:{height:"100%"}},[a("div",{staticClass:"col-6",class:t.drawerState?"bg-grey-9":"bg-blue-13",staticStyle:{"border-radius":"0.6rem"}},[a("div",{staticClass:"column items-center"},[a("h5",{staticStyle:{color:"white"}},[t._v("Información básica")]),a("div",{staticClass:"DivImgStyle row justify-center items-center content-center"},[a("img",{staticClass:"imageStyle",attrs:{id:"Imagen",src:t.ImageBase64}})]),a("div",{staticClass:"row my-custom-toggle",staticStyle:{"margin-top":"1.3rem","border-radius":"0.3rem",width:"90%"}},[a("q-file",{staticClass:"col-9 FileStyle",attrs:{label:"Elegir Fotografia","use-chips":""},nativeOn:{change:function(e){return t.subirFoto(e)}},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}})],1),a("q-input",{staticClass:"inputStyle",staticStyle:{"text-color":"white"},attrs:{dark:"",type:"text",filled:"",label:"Nombre"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textNombre,callback:function(e){t.textNombre=e},expression:"textNombre"}})],1)]),a("div",{staticClass:"col-6",staticStyle:{"margin-left":"-1rem"}},[a("div",{staticClass:"column items-center"},[a("q-input",{staticClass:"inputStyle",attrs:{standout:"",filled:"",label:"Correo Electrónico",type:"email",prefix:"Email:"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"mail"}})]},proxy:!0}]),model:{value:t.textCorreo,callback:function(e){t.textCorreo=e},expression:"textCorreo"}}),a("q-input",{staticClass:"inputStyle",attrs:{type:"number",filled:"",standout:"",label:"Telefono"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textTelefono,callback:function(e){t.textTelefono=e},expression:"textTelefono"}}),a("q-input",{staticClass:"inputStyle",attrs:{type:"text",filled:"",label:"Curp"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.textCurp,callback:function(e){t.textCurp=e},expression:"textCurp"}}),a("q-input",{staticClass:"inputStyle",attrs:{type:"password",filled:"",standout:"",label:"Contraseña"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"line_weight"}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("q-select",{staticClass:"inputStyle",attrs:{filled:"",standout:"",options:t.options,label:"Tipo De Usuario"},model:{value:t.TipoUsuario,callback:function(e){t.TipoUsuario=e},expression:"TipoUsuario"}}),a("q-btn-toggle",{staticClass:"justify-center btnToggleStyle",attrs:{unelevated:"","toggle-color":t.modelServicio?"primary":"dark",color:"white","text-color":"dark",options:[{label:"Cuenta Activada",value:!0},{label:"Cuenta Desactivada",value:!1}]},model:{value:t.modelServicio,callback:function(e){t.modelServicio=e},expression:"modelServicio"}})],1)])])]),a("div",{staticClass:"col-2"})])]),a("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("¡"+t._s(t.aviso)+"!")])]),a("q-card-section",{staticClass:"q-pt-none"},[t._v("¡"+t._s(t.aviso2)+"!")]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"},on:{click:function(e){return t.sendBack()}}})],1)],1)],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.confirm,callback:function(e){t.confirm=e},expression:"confirm"}},[a("q-card",[a("q-card-section",{staticClass:"row items-center"},[a("q-avatar",{attrs:{icon:"keyboard_return",color:"primary","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[t._v("¿Seguro que deseas salir?")])],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Salir",to:"/UserCards",color:"primary"}})],1)],1)],1)],1)},l=[],n=(a("e6cf"),a("498a"),a("5d36")),c=a("a6a3"),d={data(){return{tipo:"text",textRol:1,textNombre:"",textTelefono:"",textCorreo:"",textDireccion:"",textCurp:"",password:"",password2:"",isPwd:!0,isPwd2:!0,home:!1,"textConfirmContraseña":"",files:null,alert:!1,confirm:!1,modelServicio:!0,ImageBase64:"user2.png",TipoUsuario:"",options:["Administrador","Auxiliar","Básico"],aviso:"Registro Guardado",aviso2:"Su registro se ha generado exitosamente",canPost:!1}},methods:{subirFoto(){let t=this.$data.files,e=new FileReader;e.onloadend=t=>{this.ImageBase64=e.result},e.readAsDataURL(t)},compressImage(){this.$data.ImageBase64;const t=document.createElement("canvas"),e=document.getElementById("Imagen");let a=e.width,s=e.height;const r=200,i=200;a>s?a>i&&(s=Math.round(s*=i/a),a=i):s>r&&(a=Math.round(a*=r/s),s=r);var o=t.getContext("2d");t.width=a,t.height=s,o.drawImage(e,0,0,a,s),this.$data.ImageBase64=t.toDataURL("image/jpeg",.92)},async _insertUser(){if(null!=this.TipoUsuario)switch(this.TipoUsuario){case"Administrador":this.textRol=1;break;case"Auxiliar":this.textRol=2;break;case"Básico":this.textRol=3;break;default:this.textRol=0}this.compressImage();for(var t=[{value:this.$data.textNombre.trim(),parameter:"Nombre"},{value:this.$data.textCorreo,parameter:"Correo"},{value:this.textTelefono,parameter:"Telefono"},{value:this.$data.textCurp,parameter:"Curp"},{value:this.$data.password,parameter:"Password"},{value:this.$data.textRol,parameter:"Rol"}],e=0;e<t.length;e++){if(""==t[e].value)return this.$q.loading.hide(),this.$q.notify({color:"orange-14",textColor:"white",timeout:1e3,icon:"warning",message:"No ingresaste "+t[e].parameter+" del usuario"}),void(this.canPost=!1);this.canPost=!0}if(this.canPost){var a={Nombre:this.$data.textNombre.trim(),CURP:this.$data.textCurp,Correo:this.$data.textCorreo,Password:this.$data.password,Telefono:this.textTelefono,Rol:this.$data.textRol,Estatus:!0,Foto:this.ImageBase64};this.$q.loading.show({spinner:c["a"],spinnerColor:"indigo-10",spinnerSize:50,backgroundColor:"indigo-11",message:"Subiendo Usuario",messageColor:"indigo-10"});try{await n["a"].createUser(a);this.$data.alert=!0,this.$store.dispatch("cardState/getUsersAction"),this.$q.loading.hide()}catch(s){this.$q.loading.hide(),this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"Ocurrió un error al crear el usuario!!."})}}},sendBack(){"Parece que no ha ingresado todos los campos necesarios"===this.aviso2||this.$router.push("/UserCards")}},computed:{Usuario:{get(){return this.$store.state.global.Usuario},set(t){this.$store.commit("global/updateUsuario",t)}},drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}}}},u=d,p=(a("e826"),a("2877")),m=a("9c40"),h=a("7d53"),g=a("27f9"),b=a("0016"),f=a("ddd8"),v=a("6a67"),C=a("24e8"),w=a("f09f"),y=a("a370"),x=a("4b7e"),S=a("cb32"),q=a("7f67"),$=a("eebe"),k=a.n($),U=Object(p["a"])(u,o,l,!1,null,"1b548eb9",null),_=U.exports;k()(U,"components",{QBtn:m["a"],QFile:h["a"],QInput:g["a"],QIcon:b["a"],QSelect:f["a"],QBtnToggle:v["a"],QDialog:C["a"],QCard:w["a"],QCardSection:y["a"],QCardActions:x["a"],QAvatar:S["a"]}),k()(U,"directives",{ClosePopup:q["a"]});var I={name:"EquipmentCreate",components:{UserAccount:i["a"],UserInput:_},data(){return{leftDrawerOpen:!1,Numero:9,home:!1}},computed:{drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}}}},T=I,Q=(a("2ad9"),a("4d5a")),N=a("e359"),R=a("65c6"),B=a("068f"),P=a("0170"),A=a("09e3"),D=Object(p["a"])(T,s,r,!1,null,null,null);e["default"]=D.exports;k()(D,"components",{QLayout:Q["a"],QHeader:N["a"],QToolbar:R["a"],QImg:B["a"],QItemLabel:P["a"],QPageContainer:A["a"]})},"2ad9":function(t,e,a){"use strict";var s=a("8d1d"),r=a.n(s);r.a},"8d1d":function(t,e,a){},a8e9:function(t,e,a){},e826:function(t,e,a){"use strict";var s=a("a8e9"),r=a.n(s);r.a}}]);