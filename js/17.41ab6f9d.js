(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"6bf2":function(t,e,a){"use strict";var i=a("e137"),s=a.n(i);s.a},c462:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"q-pa-md"},[i("q-layout",{attrs:{id:"q-app-2",view:"lHh Lpr lFf"}},[i("q-header",{staticClass:"glossy",class:t.drawerState?"bg-Mycolor":"bg-primary",staticStyle:{height:"150px","border-radius":"0 0 1rem 1rem"}},[i("q-toolbar",{staticClass:"justify-center"},[i("q-img",{staticClass:"shadow-7",staticStyle:{"margin-top":"0.5rem",height:"60px",width:"100%","border-radius":"0.5rem"},attrs:{basic:"",src:a("4b51")}}),i("div",{staticClass:"fixed-top-right"},[i("user-account")],1)],1),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-2 col-2"},[i("q-img",{staticClass:"fixed-top-left",staticStyle:{height:"6.5rem",width:"7.3rem",margin:"1.3rem","border-radius":"0.5rem"},attrs:{basic:"",src:a("73b8")}},[t.home?i("div",{staticClass:"absolute-full text-subtitle2 flex flex-center"},[i("q-img",{staticStyle:{"margin-top":"-0.4rem"},attrs:{basic:"",src:a("fbf5")}})],1):t._e(),i("q-btn",{staticStyle:{height:"6.5rem",width:"7.3rem","border-radius":"0.5rem"},attrs:{to:"/Home"},on:{mouseover:function(e){t.home=!0},mouseleave:function(e){t.home=!1}}})],1)],1),i("div",{staticClass:"col-12",staticStyle:{"text-align":"center","margin-top":"1.7rem"}},[i("q-item-label",{staticStyle:{"font-size":"1.5rem",color:"white"},attrs:{overline:""}},[t._v("Todos los mantenimientos")])],1)])],1),i("div",{staticClass:"bg-blue-10 glossy",staticStyle:{width:"100%",height:"0.5rem","border-radius":"0.5rem","margin-top":"-0.5rem"}}),i("div",{staticClass:"row no-wrap justify-end"},[i("div",{staticClass:"col-auto"},[i("q-btn",{staticStyle:{margin:"1rem"},attrs:{label:"Ver detalles",color:"primary",push:"",icon:"more"},on:{click:function(e){return t.obtenerSeleccionado()}}}),i("q-btn",{staticStyle:{margin:"1rem"},attrs:{label:"Salir",to:"/MaintenanceSection",color:"primary",push:"",icon:"logout"}})],1)]),i("div",{staticClass:"bg-blue-10 glossy",staticStyle:{width:"100%",height:"0.5rem","border-radius":"0.5rem"}}),i("q-page-container",{staticStyle:{"margin-top":"-8.6rem"}},[i("all-maintance-table"),i("br")],1)],1)],1)},s=[],o=a("dddf"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-table",{attrs:{title:"Lista Mantenimientos",data:t.data,columns:t.columns,"row-key":"index",flat:"",selection:"single",selected:t.selected,loading:t.loading,pagination:t.initialPagination},on:{"update:selected":function(e){t.selected=e}},scopedSlots:t._u([{key:"loading",fn:function(){return[1==t.loading?a("q-spinner-cube",{staticClass:"self-center",staticStyle:{margin:"1rem"},attrs:{indeterminate:"",showing:"",reverse:"",size:"70px",thickness:1,"track-color":"light-blue",color:t.drawerState?"white":"primary"}}):t._e()]},proxy:!0}])})],1)},r=[],l=(a("e6cf"),{data(){return{selected:[],loading:!0,alert:!1,columns:[{name:"index",label:"#",field:"index"},{Tipo_Mantenimiento:"Tipo_Mantenimiento",required:!0,label:"Tipo de mantenimiento",align:"left",field:t=>t.Tipo_Mantenimiento,format:t=>""+t,sortable:!0},{Nombre_Encargado:"Nombre_Encargado",align:"left",label:"Nombre del encargado",field:"Nombre_Encargado",sortable:!0},{Fecha_Mantenimiento:"Fecha_Mantenimiento",align:"left",label:"AÃ±o - Mes",field:"Fecha",sortable:!0},{Dia:"Dia",align:"left",label:"Dia - hora",field:"Dia",sortable:!0},{Costo_Mantenimiento:"Costo_Mantenimiento",align:"left",label:"Gasto total",field:"Costo_Mantenimiento",sortable:!0,sort:(t,e)=>parseFloat(t,10)-parseFloat(e,10)}],data:[],initialPagination:{rowsPerPage:50}}},created(){this.getAllMaintenances()},updated(){this.MantenimientoSelected=this.selected},methods:{async getAllMaintenances(){try{await this.$store.dispatch("cardState/getMaintenancesAction"),this.$data.data=this.Mantenimientos}catch(t){this.$q.notify({color:"red",textColor:"white",icon:"search_off",message:"Error cargando los mantenimientos"+t})}await this.data.forEach(((t,e)=>{t.index=e})),0==this.data.length?(this.loading=!1,this.$q.notify({color:"blue-13",textColor:"white",icon:"search_off",message:"Aun no hay mantenimientos"})):this.loading=!1}},computed:{IDEM:{get(){return this.$store.state.cardState.IDEM},set(t){this.$store.commit("cardState/updateIDEM",t)}},Mantenimientos:{get(){return this.$store.state.cardState.Mantenimientos},set(t){this.$store.commit("cardState/updateMaintenances",t)}},MantenimientoSelected:{get(){return this.$store.state.cardState.MantenimientoSelected},set(t){this.$store.commit("cardState/updateMantenimientoSelected",t)}},Equipos:{get(){return this.$store.state.cardState.Equipos},set(t){this.$store.commit("cardState/updateEquipments",t)}},drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}},MaintenanceSectionSelected:{get(){return this.$store.state.cardState.MaintenanceSectionSelected},set(t){this.$store.commit("cardState/updateMaintenanceSectionSelected",t)}}}}),c=l,d=a("2877"),m=a("eaac"),h=a("a6a3"),u=a("eebe"),g=a.n(u),p=Object(d["a"])(c,n,r,!1,null,null,null),b=p.exports;g()(p,"components",{QTable:m["a"],QSpinnerCube:h["a"]});var f={name:"EquipmentDetail",components:{UserAccount:o["a"],AllMaintanceTable:b},data(){return{leftDrawerOpen:!1,alert:!1,seleccionado:0,home:!1}},methods:{MaintenanceCreate(){1!=this.Usuario.rol&&2!=this.Usuario.rol||this.$router.push({path:"/MaintenanceCreate/"}),3!=this.Usuario.rol||this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"No tienes los permisos para crear un Mantenimiento"})},obtenerSeleccionado(){1!=this.Usuario.rol&&2!=this.Usuario.rol||(this.MantenimientoSelected.length>0&&this.$router.push({path:"/MaintenanceDetail/"}),0===this.MantenimientoSelected.length&&this.$q.notify({position:"bottom",timeout:1e3,textColor:"white",type:"warning",message:"Seleccione un mantenimiento de la lista!!"})),3!=this.Usuario.rol||this.$q.notify({position:"bottom",timeout:2500,textColor:"white",type:"warning",message:"No tienes los permisos para ver un Mantenimiento"})}},computed:{MantenimientoSelected:{get(){return this.$store.state.cardState.MantenimientoSelected}},drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}},Usuario:{get(){return this.$store.state.global.Usuario},set(t){this.$store.commit("global/updateUsuario",t)}}}},S=f,w=(a("6bf2"),a("4d5a")),y=a("e359"),M=a("65c6"),$=a("068f"),q=a("9c40"),C=a("0170"),v=a("09e3"),x=Object(d["a"])(S,i,s,!1,null,null,null);e["default"]=x.exports;g()(x,"components",{QLayout:w["a"],QHeader:y["a"],QToolbar:M["a"],QImg:$["a"],QBtn:q["a"],QItemLabel:C["a"],QPageContainer:v["a"]})},e137:function(t,e,a){}}]);