(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"13dd":function(t,e,i){"use strict";var a=i("7887"),s=i.n(a);s.a},"1cc8":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{id:"q-app",view:"lHh Lpr lFf"}},[a("q-header",{staticClass:"glossy",class:t.drawerState?" bg-black":"bg-primary",staticStyle:{height:"150px","min-width":"880px"},attrs:{elevated:""}},[a("q-toolbar",{staticClass:"justify-center"},[a("q-img",{staticStyle:{"margin-top":"0.5rem",height:"60px",width:"100%","border-radius":"0.5rem"},attrs:{basic:"",src:i("4b51")}}),a("div",{staticClass:"fixed-top-right"},[a("user-account")],1)],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2 col-2"},[a("q-img",{staticClass:"fixed-top-left",staticStyle:{height:"6.5rem",width:"7.3rem",margin:"1.3rem","border-radius":"0.5rem"},attrs:{basic:"",src:i("73b8")}})],1),a("div",{staticClass:"col-md-10 col-10"},[a("div",{staticClass:"row bg-indigo-10",staticStyle:{height:"4.1rem","border-radius":"0.5rem","margin-top":"0.7rem","margin-right":"0.7rem"}},[a("search-bar",{staticClass:"col-4",staticStyle:{"margin-top":"-0.7rem","margin-left":"-1.1rem"}}),a("div",{staticClass:"col-2"},[a("div",{staticClass:"row"},[a("filter-drop-down",{staticStyle:{height:"100%",margin:"0.2rem -2rem"},attrs:{color:"red",icon:"filter"}})],1)]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"row",staticStyle:{"margin-top":"0.5rem","margin-right":"-0.6rem"}},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"col shadow-2",staticStyle:{"margin-right":"0.3rem","background-color":"rgb(0, 0, 0, 0.3)"},attrs:{to:"/Home",clickable:""}},[a("q-item-section",{directives:[{name:"ripple",rawName:"v-ripple"}]},[a("q-item-label",{staticClass:"self-center text-white",staticStyle:{overflow:"hidden"},attrs:{overline:""}},[t._v("EQUIPOS")])],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"col shadow-2",staticStyle:{"margin-right":"0.3rem","background-color":"rgb(0, 0, 0, 0.3)"},attrs:{to:"/UserCards",clickable:""}},[a("q-item-section",{directives:[{name:"ripple",rawName:"v-ripple"}]},[a("q-item-label",{staticClass:"self-center text-white",staticStyle:{overflow:"hidden"},attrs:{overline:""}},[t._v("USUARIOS")])],1)],1),1==t.Usuario.rol||2==t.Usuario.rol?a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"col shadow-2",staticStyle:{"margin-right":"0.3rem","background-color":"rgb(0, 0, 0, 0.3)"},attrs:{to:"/Calendar",clickable:""}},[a("q-item-section",{directives:[{name:"ripple",rawName:"v-ripple"}]},[1==t.Usuario.rol||2==t.Usuario.rol?a("q-item-label",{staticClass:"self-center text-white",staticStyle:{overflow:"hidden"},attrs:{overline:""}},[t._v("CALENDARIO")]):t._e()],1)],1):t._e()],1)])],1)])])],1),a("q-page-container",{staticStyle:{"margin-top":"-7.6rem"}},[a("q-pull-to-refresh",{on:{refresh:t.refreshEquipos}},[a("router-view"),a("grid-cards")],1),a("div",{staticClass:"fixed-bottom-right z-top"},[1==t.Usuario.rol?a("q-btn",{staticStyle:{margin:"1rem 2rem 2rem 1rem","border-radius":"4rem",height:"65px",width:"65px"},attrs:{icon:"queue",color:"negative"},on:{click:function(e){return t.equipmentCreate()}}}):t._e()],1)],1)],1)},s=[],o=(i("e6cf"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"q-pa-md"},[i("q-btn-dropdown",{staticStyle:{"border-radius":"0.5rem"},attrs:{color:"yellow-10",label:"Filtro",size:"sm","dropdown-icon":"change_history"}},[i("q-list",[i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Equipo")}}},[i("q-item-section",{attrs:{avatar:""}},[i("q-avatar",{attrs:{icon:"folder",color:"blue-5","text-color":"white"}})],1),i("q-item-section",[i("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Equipo")])],1)],1),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Ubicacion")}}},[i("q-item-section",{attrs:{avatar:""}},[i("q-avatar",{attrs:{icon:"pin_drop",color:"blue-5","text-color":"white"}})],1),i("q-item-section",[i("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Ubicación")])],1)],1),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Modelo")}}},[i("q-item-section",{attrs:{avatar:""}},[i("q-avatar",{attrs:{icon:"support",color:"blue-6","text-color":"white"}})],1),i("q-item-section",[i("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Modelo")])],1)],1),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Marca")}}},[i("q-item-section",{attrs:{avatar:""}},[i("q-avatar",{attrs:{icon:"copyright",color:"blue-7","text-color":"white"}})],1),i("q-item-section",[i("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Marca")])],1)],1),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Numero de Serie")}}},[i("q-item-section",{attrs:{avatar:""}},[i("q-avatar",{attrs:{icon:"tag",color:"blue-8","text-color":"white"}})],1),i("q-item-section",[i("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("No. Serie")])],1)],1),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Equipos inactivos")}}},[i("q-item-section",{attrs:{avatar:""}},[i("q-avatar",{attrs:{icon:"desktop_access_disabled",color:"blue-8","text-color":"white"}})],1),i("q-item-section",[i("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Equipos Inactivos")])],1)],1),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Mantenimientos Pendientes")}}},[i("q-item-section",{attrs:{avatar:""}},[i("q-avatar",{attrs:{icon:"event",color:"blue-9","text-color":"white"}})],1),i("q-item-section",[i("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Mantenimientos Pendientes")])],1)],1),i("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.onItemClick("Equipos Reportados")}}},[i("q-item-section",{attrs:{avatar:""}},[i("q-avatar",{attrs:{icon:"report",color:"blue-10","text-color":"white"}})],1),i("q-item-section",[i("q-item-label",{staticClass:"text-weight-bolder labelStyle",attrs:{overline:""}},[t._v("Equipos Reportados Este Mes")])],1)],1)],1)],1)],1)}),r=[],l={methods:{onItemClick(t){this.TypeSearch=t}},computed:{TypeSearch:{get(){return this.$store.state.global.TypeSearch},set(t){this.$store.commit("global/updateFilter",t)}}},destroyed(){this.TypeSearch="Equipo"}},c=l,n=(i("13dd"),i("2877")),p=i("f20b"),u=i("1c1c"),h=i("66e5"),m=i("4074"),d=i("cb32"),q=i("0170"),g=i("7f67"),b=i("eebe"),v=i.n(b),S=Object(n["a"])(c,o,r,!1,null,"d8ad3190",null),f=S.exports;v()(S,"components",{QBtnDropdown:p["a"],QList:u["a"],QItem:h["a"],QItemSection:m["a"],QAvatar:d["a"],QItemLabel:q["a"]}),v()(S,"directives",{ClosePopup:g["a"]});var w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"q-pa-md"},[i("div",{staticClass:"column",staticStyle:{width:"100%"}},[i("q-toolbar",{staticClass:"text-white rounded-borders"},[i("q-space"),i("q-input",{staticClass:"inputBuscar",staticStyle:{width:"100%"},attrs:{dark:"",standout:"",label:"Buscar por "+this.$store.state.global.TypeSearch},on:{keyup:t.searchBy},scopedSlots:t._u([{key:"append",fn:function(){return[i("q-icon",{attrs:{name:""!==t.text?"search":"autorenew"},on:{click:t.searchBy}}),""!==t.text?i("q-icon",{attrs:{name:"clear"},on:{click:t.borrarYrefrescar}}):t._e()]},proxy:!0}]),model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1)])},E=[],x=(i("fb6a"),{components:{FilterDropDown:f},data(){return{text:"",IDSEQUIPOS:[],cargar:!1}},methods:{async searchBy(){this.Equipos=this.EquiposAux;var t=[];if(""!=this.text&&"Equipos Reportados"!=this.text&&"Mantenimientos Pendientes"!=this.text&&"Equipos inactivos"!=this.text?("Marca"===this.$store.state.global.TypeSearch&&(t=this.Equipos.filter((t=>this.textoSimple(t.Marca).includes(this.textoSimple(this.$data.text))))),"Equipo"===this.$store.state.global.TypeSearch&&(t=this.Equipos.filter((t=>this.textoSimple(t.Nombre_Equipo).includes(this.textoSimple(this.$data.text))))),"Ubicacion"===this.$store.state.global.TypeSearch&&(t=this.Equipos.filter((t=>this.textoSimple(t.Ubicacion).includes(this.textoSimple(this.$data.text))))),"Modelo"===this.$store.state.global.TypeSearch&&(t=this.Equipos.filter((t=>t.Modelo.toLowerCase().includes(this.$data.text.toLowerCase())))),"Numero de Serie"===this.$store.state.global.TypeSearch&&(t=this.Equipos.filter((t=>t.No_Serie.toLowerCase().includes(this.$data.text.toLowerCase())))),0===t.length?(this.$q.notify({color:"blue-10",textColor:"white",icon:"search_off",message:"No se ha encontrado ningún Equipo, revisa si no hay equipos por cargar"}),this.text=""):this.Equipos=t):this.Equipos=this.EquiposAux,"Equipos Reportados"===this.$store.state.global.TypeSearch){for(var e=0;e<this.Equipos.length;e++)this.IDSEQUIPOS.includes(this.Equipos[e].ID_Equipo)&&t.push(this.Equipos[e]);this.IDSEQUIPOS.length>0?this.Equipos=t:this.$q.notify({color:"blue-10",textColor:"white",icon:"search_off",message:"No se ha encontrado ningún Equipo reportado"})}if("Equipos inactivos"===this.$store.state.global.TypeSearch){for(e=0;e<this.Equipos.length;e++)0==this.Equipos[e].Estado_Servicio&&t.push(this.Equipos[e]);0==t.length?(this.$q.notify({color:"blue-10",textColor:"white",icon:"search_off",message:"No se ha encontrado ningún Equipo inactivo"}),t=this.EquiposAux):this.Equipos=t}if("Mantenimientos Pendientes"===this.$store.state.global.TypeSearch){var i=new Date;await this.Equipos.forEach((e=>{(" "!=e.Siguiente_Mantenimiento&&parseInt(e.Siguiente_Mantenimiento.slice(0,4))<=i.getFullYear()&&parseInt(e.Siguiente_Mantenimiento.slice(5,7))<=i.getMonth()+1&&parseInt(e.Siguiente_Mantenimiento.slice(8,10))<=i.getDate()||parseInt(e.Siguiente_Mantenimiento.slice(0,4))<=i.getFullYear()&&parseInt(e.Siguiente_Mantenimiento.slice(5,7))<i.getMonth()+1&&parseInt(e.Siguiente_Mantenimiento.slice(8,10))>i.getDate()||parseInt(e.Siguiente_Mantenimiento.slice(0,4))<i.getFullYear())&&t.push(e)})),t.length>0?this.Equipos=t:this.$q.notify({color:"blue-10",textColor:"white",icon:"search_off",message:"No se ha encontrado ningún mantenimiento pendiente"})}},textoSimple(t){const e="ÁáÉéÍíÓóÚúñÜüabcdefghijklmnopqrstuvwxyz",i="AAEEIIOOUUÑUUABCDEFGHIJKLMNOPQRSTUVWXYZ";if(null==t)return null;let a=t.split("");for(let s=0;s<a.length;s++)for(let t=0;t<e.length;t++)if(a[s]==e.charAt(t)){a[s]=i.charAt(t);break}return a.join("")},borrarYrefrescar(){this.$store.commit("global/updateFilter","Equipo"),this.text="",this.Equipos=this.EquiposAux}},created(){this.cargarReportes,0==this.Equipos.length?(this._getEquipos,this.Flags.currentRoute=""):this.Equipos=this.EquiposAux},updated(){this.cargarReportes,"Equipos Reportados"===this.$store.state.global.TypeSearch&&(this.text="Equipos Reportados"),"Mantenimientos Pendientes"===this.$store.state.global.TypeSearch&&(this.text="Mantenimientos Pendientes"),"Equipos inactivos"===this.$store.state.global.TypeSearch&&(this.text="Equipos inactivos")},destroyed(){this.Equipos=this.EquiposAux},computed:{cargarReportes(){this.Reportes.forEach((t=>{t.Status&&this.IDSEQUIPOS.push(t.ID_Equipo)}))},async _getEquipos(){await this.$store.dispatch("cardState/getEquipmentsAction")},Equipos:{get(){return this.$store.state.cardState.Equipos},set(t){this.$store.commit("cardState/updateEquipments",t)}},EquiposAux:{get(){return this.$store.state.cardState.EquiposAux}},Reportes:{get(){return this.$store.state.cardState.Reportes},set(t){this.$store.commit("cardState/updateReportes",t)}},ReportesAux:{get(){return this.$store.state.cardState.ReportesAux}},Flags:{get(){return this.$store.state.global.Flags},set(t){this.$store.commit("global/updateFlags",t)}}}}),y=x,C=(i("83f5"),i("65c6")),$=i("2c91"),k=i("27f9"),_=i("0016"),I=Object(n["a"])(y,w,E,!1,null,"313c55a6",null),M=I.exports;v()(I,"components",{QToolbar:C["a"],QSpace:$["a"],QInput:k["a"],QIcon:_["a"]});var Q=i("dddf"),U=i("da58"),N={name:"CardsPage",components:{GridCards:U["a"],SearchBar:M,FilterDropDown:f,UserAccount:Q["a"]},data(){return{leftDrawerOpen:!1,EquiposOrdenados:[],tab:"",cargar:!1}},methods:{equipmentCreate(){this.$router.push({path:"/EquipmentCreate/"})},async refreshEquipos(t){await this.$store.dispatch("cardState/getEquipmentsAction"),t()}},computed:{Equipos:{get(){return this.$store.state.cardState.Equipos},set(t){this.$store.commit("cardState/updateEquipments",t)}},drawerState:{get(){return this.$store.state.showcase.drawerState?this.$q.dark.set(!0):this.$q.dark.set(!1),this.$store.state.showcase.drawerState},set(t){this.$store.commit("showcase/updateDrawerState",t)}},Usuario:{get(){return this.$store.state.global.Usuario},set(t){this.$store.commit("global/updateUsuario",t)}}}},A=N,R=(i("cf8b"),i("4d5a")),T=i("e359"),D=i("068f"),P=i("09e3"),O=i("59d7"),F=i("9c40"),L=i("714f"),B=Object(n["a"])(A,a,s,!1,null,"eb974f06",null);e["default"]=B.exports;v()(B,"components",{QLayout:R["a"],QHeader:T["a"],QToolbar:C["a"],QImg:D["a"],QItem:h["a"],QItemSection:m["a"],QItemLabel:q["a"],QPageContainer:P["a"],QPullToRefresh:O["a"],QBtn:F["a"]}),v()(B,"directives",{Ripple:L["a"]})},"3b68":function(t,e,i){},"5cba":function(t,e,i){},7887:function(t,e,i){},"83f5":function(t,e,i){"use strict";var a=i("5cba"),s=i.n(a);s.a},cf8b:function(t,e,i){"use strict";var a=i("3b68"),s=i.n(a);s.a}}]);